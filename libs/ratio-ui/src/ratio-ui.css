@import url("https://fonts.googleapis.com/css2?family=Source+Sans+3:wght@400;600&family=Source+Serif+4:wght@400;600;700&display=swap");
@import "tailwindcss";
@plugin 'tailwindcss-react-aria-components';
@source '**/*.tsx';
@source '../../forms/src';
@source '../../datatable/src';

@custom-variant dark (&:where(html[data-theme="dark"] &, body[data-theme="dark"] &, [data-theme="dark"] *));

@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
}

@theme {
  /* Fonts */
  --font-sans: "Source Sans 3", ui-sans-serif, system-ui, sans-serif;
  --font-serif: "Source Serif 4", ui-serif, Georgia, serif;
  --font-mono: ui-monospace, "SF Mono", "Cascadia Code", monospace;
  --font-display: var(--font-serif);
  --font-body: var(--font-sans);

  /* Fluid typography - @link https://utopia.fyi/type/calculator */
  --font-size-xs: clamp(0.75rem, 0.7rem + 0.13vw, 0.81rem);
  --font-size-sm: clamp(0.88rem, 0.83rem + 0.16vw, 0.96rem);
  --font-size-base: clamp(1rem, 0.96rem + 0.19vw, 1.13rem);
  --font-size-lg: clamp(1.13rem, 1.06rem + 0.23vw, 1.27rem);
  --font-size-xl: clamp(1.27rem, 1.19rem + 0.27vw, 1.42rem);
  --font-size-2xl: clamp(1.42rem, 1.33rem + 0.32vw, 1.6rem);
  --font-size-3xl: clamp(1.6rem, 1.48rem + 0.37vw, 1.8rem);
  --font-size-4xl: clamp(1.8rem, 1.66rem + 0.43vw, 2.03rem);
  --font-size-5xl: clamp(2.03rem, 1.85rem + 0.49vw, 2.28rem);
  --font-size-6xl: clamp(2.28rem, 2.07rem + 0.55vw, 2.57rem);

  /* Fluid spacing - @link https://utopia.fyi/space/calculator */
  --space-3xs: clamp(0.3125rem, 0.3125rem + 0vw, 0.3125rem);
  --space-2xs: clamp(0.5625rem, 0.5369rem + 0.1136vw, 0.625rem);
  --space-xs: clamp(0.875rem, 0.8494rem + 0.1136vw, 0.9375rem);
  --space-s: clamp(1.125rem, 1.0739rem + 0.2273vw, 1.25rem);
  --space-m: clamp(1.6875rem, 1.6108rem + 0.3409vw, 1.875rem);
  --space-l: clamp(2.25rem, 2.1477rem + 0.4545vw, 2.5rem);
  --space-xl: clamp(3.375rem, 3.2216rem + 0.6818vw, 3.75rem);
  --space-2xl: clamp(4.5rem, 4.2955rem + 0.9091vw, 5rem);
  --space-3xl: clamp(6.75rem, 6.4432rem + 1.3636vw, 7.5rem);

  /* Colors */
  --color-primary-400: #38bdf8;
  --color-primary-500: #0ea5e9;
  --color-primary-600: #0284c7;

  --color-vipps-orange: #ff5b24;
  --color-vipps-hover: #e64e1a;

  /* Border radius */
  --radius-sm: 0.25rem;
  --radius: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
}

@layer base {
  /* Prevent FOUC during theme initialization */
  html {
    opacity: 0;
    font-size: var(--font-size-base);
  }

  html[data-theme="dark"],
  html[data-theme="light"] {
    opacity: 1;
  }

  body {
    @apply h-full m-0 flex flex-col min-h-screen antialiased;
    @apply text-gray-800 dark:text-gray-200;
    @apply bg-gradient-to-tr from-stone-100 via-stone-200 to-orange-50;
    @apply dark:bg-gradient-to-r dark:from-gray-800 dark:via-gray-900 dark:to-gray-800;
  }

  main {
    @apply grow;
  }

  /* Typography */
  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-serif);
    font-weight: 600;
    line-height: 1.2;
    letter-spacing: -0.025em;
  }

  h1 {
    font-size: var(--font-size-6xl);
    margin-top: var(--space-3xl);
    margin-bottom: var(--space-m);
  }

  h2 {
    font-size: var(--font-size-3xl);
    margin-top: var(--space-2xl);
    margin-bottom: var(--space-s);
  }

  h3 {
    font-size: var(--font-size-2xl);
    margin-top: var(--space-xl);
    margin-bottom: var(--space-s);
  }

  h4 {
    font-size: var(--font-size-xl);
    margin-top: var(--space-l);
    margin-bottom: var(--space-xs);
  }

  h5 {
    font-size: var(--font-size-lg);
    margin-top: var(--space-m);
    margin-bottom: var(--space-xs);
  }

  h6 {
    font-size: var(--font-size-base);
    margin-top: var(--space-s);
    margin-bottom: var(--space-2xs);
  }

  p {
    margin-top: var(--space-s);
    margin-bottom: var(--space-s);
  }

  blockquote {
    font-size: var(--font-size-xl);
    font-style: italic;
    font-weight: 600;
    margin-top: var(--space-l);
    margin-bottom: var(--space-l);
    @apply text-gray-900 dark:text-gray-100;
  }

  /* Story context */
  .story p {
    font-size: var(--font-size-lg);
    margin-top: var(--space-m);
    margin-bottom: var(--space-m);
  }

  /* Utilities */
  .link-overlay::after {
    position: absolute;
    inset: 0;
    z-index: 1;
    content: "";
  }
}
