# Default values for eventuras-api
# Environment-specific values are set by Argo CD, not here

replicaCount: 1

image:
  registry: ""      # Set by Argo: docker.io
  repository: ""    # Set by Argo: losolio/eventuras-api
  tag: ""           # Set by Argo: sha-abc123, v1.2.3
  pullPolicy: IfNotPresent

# Hostname for the application
hostname: ""        # Set by Argo: api-dev.eventuras.losol.no

# HTTPRoute for Gateway API (requires gateway.networking.k8s.io CRDs)
httpRoute:
  enabled: true
  gateway:
    name: traefik-gateway
    namespace: traefik
    sectionName: https  # Must match a listener in the Gateway â€“ see infra/traefik-gateway/README.md

service:
  port: 80
  targetPort: 8080

resources:
  requests:
    memory: "256Mi"
    cpu: "100m"
    ephemeral-storage: "1Gi"
  limits:
    memory: "1Gi"
    cpu: "1000m"
    ephemeral-storage: "2Gi"

# Health check configuration
healthCheck:
  path: /health
  initialDelaySeconds: 15
  periodSeconds: 30
  timeoutSeconds: 10

# Environment variables (non-sensitive)
env: {}
# Additional env vars set by provisioner:
#   ASPNETCORE_ENVIRONMENT: Production
# Note: ASPNETCORE_URLS is set automatically from service.targetPort in deployment.yaml

# Database configuration
database:
  enabled: true
  # Connection string set via secrets, not here
