# EF Migrations

All EF related commands must be run in the context of the Infrastructure project. So first, `cd` into its directory:

```bash
cd apps/api/src/Eventuras.Infrastructure
```

## Adding a migration

````bash
dotnet ef migrations add MigrationDescription -s ../Eventuras.WebApi/Eventuras.WebApi.csproj
dotnet ef migrations script --idempotent -s ../Eventuras.WebApi/Eventuras.WebApi.csproj --output ./sqlscript/database-migrations.sql

``

## Applying a Migration

Either run the sql script generated by the previous command or run the following command:

```bash
dotnet ef database update -s ../Eventuras.WebApi/Eventuras.WebApi.csproj
````
